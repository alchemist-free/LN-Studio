<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LN Studio</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: Arial, sans-serif;
            background: #121212;
            color: #808080;
        }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .btn { 
            background: #494458; 
            color: white; 
            border: none; 
            padding: 15px; 
            border-radius: 10px; 
            width: 100%;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }
        .input { 
            background: #202020; 
            color: white; 
            border: 1px solid #494458; 
            padding: 12px; 
            border-radius: 8px; 
            width: 100%;
            font-size: 16px;
            margin-bottom: 10px;
        }
        .card { 
            background: #202020; 
            padding: 15px; 
            border-radius: 10px; 
            margin-bottom: 10px;
        }
        .hide { display: none; }
        h1 { color: white; margin-bottom: 20px; text-align: center; }
        h2 { color: white; margin-bottom: 15px; }
    </style>
</head>
<body>

<!-- LOGIN SCREEN -->
<div id="loginScreen" class="container">
    <div style="text-align: center; margin-bottom: 30px;">
        <div style="font-size: 64px;">üìö</div>
        <h1>LN Studio</h1>
        <p>–†–µ–¥–∞–∫—Ç–æ—Ä –ª–∞–π—Ç –Ω–æ–≤–µ–ª–ª</p>
    </div>
    <input type="text" id="nicknameInput" class="input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º">
    <button class="btn" onclick="login()">–í–æ–π—Ç–∏</button>
</div>

<!-- LIBRARY SCREEN -->
<div id="libraryScreen" class="container hide">
    <h1>üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</h1>
    <button class="btn" onclick="showNewProject()" style="margin-bottom: 20px;">‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ</button>
    <div id="projectsList"></div>
    <br>
    <button class="btn" onclick="showProfile()" style="background: #202020;">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
    <button class="btn" onclick="logout()" style="background: #dc2626; margin-top: 10px;">–í—ã–π—Ç–∏</button>
</div>

<!-- NEW PROJECT SCREEN -->
<div id="newProjectScreen" class="container hide">
    <button onclick="showLibrary()" style="background: none; border: none; color: #808080; font-size: 24px; margin-bottom: 20px; cursor: pointer;">‚Üê –ù–∞–∑–∞–¥</button>
    <h2>–ù–æ–≤–æ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ</h2>
    <input type="text" id="projectTitle" class="input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ *">
    <textarea id="projectDesc" class="input" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" rows="4"></textarea>
    <input type="text" id="projectPoster" class="input" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å—Ç–µ—Ä">
    <input type="text" id="projectGenres" class="input" placeholder="–ñ–∞–Ω—Ä—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)">
    <select id="projectStatus" class="input">
        <option value="–í –ø—Ä–æ—Ü–µ—Å—Å–µ">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
        <option value="–ó–∞–≤–µ—Ä—à–µ–Ω–æ">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</option>
        <option value="–ó–∞–º–æ—Ä–æ–∂–µ–Ω–æ">–ó–∞–º–æ—Ä–æ–∂–µ–Ω–æ</option>
    </select>
    <button class="btn" onclick="createProject()">–°–æ–∑–¥–∞—Ç—å</button>
</div>

<!-- PROFILE SCREEN -->
<div id="profileScreen" class="container hide">
    <button onclick="showLibrary()" style="background: none; border: none; color: #808080; font-size: 24px; margin-bottom: 20px; cursor: pointer;">‚Üê –ù–∞–∑–∞–¥</button>
    <div style="text-align: center; margin-bottom: 30px;">
        <div style="width: 80px; height: 80px; border-radius: 50%; background: #494458; display: inline-flex; align-items: center; justify-content: center; font-size: 40px;">üë§</div>
    </div>
    <div class="card">
        <div id="profileStats"></div>
    </div>
</div>

<script>
let currentUser = null;
let projects = [];

// Load data
function loadData() {
    const data = localStorage.getItem('ln-studio');
    if (data) {
        try {
            const parsed = JSON.parse(data);
            currentUser = parsed.user;
            projects = parsed.projects || [];
            if (currentUser) {
                showLibrary();
            }
        } catch (e) {
            console.error(e);
        }
    }
}

// Save data
function saveData() {
    localStorage.setItem('ln-studio', JSON.stringify({
        user: currentUser,
        projects: projects
    }));
}

// Show/Hide screens
function showScreen(screenId) {
    document.querySelectorAll('.container').forEach(el => el.classList.add('hide'));
    document.getElementById(screenId).classList.remove('hide');
}

// Login
function login() {
    const nickname = document.getElementById('nicknameInput').value.trim();
    if (!nickname) {
        alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º!');
        return;
    }
    currentUser = { nickname: nickname, date: new Date().toISOString() };
    saveData();
    showLibrary();
}

// Logout
function logout() {
    if (!confirm('–í—ã–π—Ç–∏?')) return;
    currentUser = null;
    projects = [];
    localStorage.removeItem('ln-studio');
    showScreen('loginScreen');
}

// Show Library
function showLibrary() {
    showScreen('libraryScreen');
    renderProjects();
}

// Render projects
function renderProjects() {
    const list = document.getElementById('projectsList');
    if (projects.length === 0) {
        list.innerHTML = '<div class="card"><p style="text-align: center; color: #808080;">–ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π</p></div>';
        return;
    }
    list.innerHTML = projects.map(p => `
        <div class="card">
            <h3 style="color: white; margin-bottom: 10px;">${p.title}</h3>
            <p style="font-size: 14px; margin-bottom: 10px;">–ê–≤—Ç–æ—Ä: ${p.author}</p>
            ${p.description ? `<p style="font-size: 14px; margin-bottom: 10px;">${p.description}</p>` : ''}
            <button onclick="deleteProject(${p.id})" style="background: #dc2626; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
        </div>
    `).join('');
}

// Show new project screen
function showNewProject() {
    showScreen('newProjectScreen');
    document.getElementById('projectTitle').value = '';
    document.getElementById('projectDesc').value = '';
    document.getElementById('projectPoster').value = '';
    document.getElementById('projectGenres').value = '';
}

// Create project
function createProject() {
    const title = document.getElementById('projectTitle').value.trim();
    if (!title) {
        alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ!');
        return;
    }
    
    const project = {
        id: Date.now(),
        title: title,
        description: document.getElementById('projectDesc').value,
        poster: document.getElementById('projectPoster').value,
        genres: document.getElementById('projectGenres').value,
        status: document.getElementById('projectStatus').value,
        author: currentUser.nickname,
        date: new Date().toISOString(),
        volumes: []
    };
    
    projects.push(project);
    saveData();
    showLibrary();
}

// Delete project
function deleteProject(id) {
    if (!confirm('–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ?')) return;
    projects = projects.filter(p => p.id !== id);
    saveData();
    renderProjects();
}

// Show profile
function showProfile() {
    showScreen('profileScreen');
    const stats = document.getElementById('profileStats');
    stats.innerHTML = `
        <p style="padding: 10px 0; border-bottom: 1px solid #121212;"><strong>–ò–º—è:</strong> ${currentUser.nickname}</p>
        <p style="padding: 10px 0; border-bottom: 1px solid #121212;"><strong>–ù–æ–≤–µ–ª–ª:</strong> ${projects.length}</p>
        <p style="padding: 10px 0;"><strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> ${new Date(currentUser.date).toLocaleDateString()}</p>
    `;
}

// Init
loadData();
</script>

</body>
</html>
